# dida-car-data-crawler
作为一名嘀嗒顺风车司机，每天都要在嘀嗒上查看顺路订单情况，在获取订单上耗费了大量的时间。本次针对嘀嗒评车API
做了一次分析，从平台运力资源供给方，以司机角度，分析API请求参数和返回数据, 帮助自己更好理解出行行业顺风车产品思路和数据结构。

## 接口分析
- 顺路订单接口
待补充
- 乘客和设计信息接口
待补充
- 接单记录接口

## 数据抓取
按照postman抓取的API，发起请求，抓取数据。但是里面发现几个注意点
- 接口鉴权: request header里面存在了cookie和校验信息, 难以越过鉴权访问他人数据
- 参数限制: request url query里面翻页是无法使用(只能使用page=1 其他page=2不可访问)
> 从平台角度看，这样的限制简化了产品设计和功能开发。对于单个司机来说，每次刷新看top 20路线最合适的路线才有意义。top20之外的长尾流量对于这类基于地理位置和特定时间内的交易行为，意义不大，不披露给司机也是可以理解的。

## 定时任务
定时任务是抓取数据最基本的需求，使用node-schedule例行化抓取数据